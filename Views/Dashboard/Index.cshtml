@{
    ViewData["Title"] = "Dashboard — SuporteTI IA";
    var nome = ViewBag.UsuarioNome ?? "Usuário";
}

<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>@ViewData["Title"]</title>

    <style>
        :root{
          --bg:#f6f8fb;
          --card:#ffffff;
          --muted:#6b7280;
          --text:#111827;
          --accent:#2563eb;
          --primary:#1e63d6;
          --success:#10b981;
          --danger:#ef4444;
          --shadow:0 6px 18px rgba(16,24,40,0.06);
          --radius:12px;
        }
        [data-theme="dark"]{
          --bg:#0b1220;
          --card:#071226;
          --muted:#9aa6b2;
          --text:#e6eef6;
          --accent:#60a5fa;
          --shadow:0 8px 20px rgba(2,6,23,0.6);
        }

        *{box-sizing:border-box;}
        html,body{height:100%;margin:0;font-family:Inter,ui-sans-serif,system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial;background:var(--bg);color:var(--text);-webkit-font-smoothing:antialiased;}
        a{color:inherit;text-decoration:none;}

        .app{min-height:100vh;display:grid;grid-template-columns:260px 1fr;gap:24px;padding:28px;align-items:start;}
        @@media(max - width:900px){.app{grid-template-columns:1fr;padding:16px;}.sidebar{position:fixed;left:0;top:0;bottom:0;transform:translateX(-110%);transition:transform .25s ease;z-index:30;}.sidebar.open{transform:translateX(0);}}

        .sidebar{background:linear-gradient(180deg,rgba(255,255,255,0.9),var(--card));border-radius:var(--radius);padding:18px;box-shadow:var(--shadow);height:calc(100vh - 56px);display:flex;flex-direction:column;}
        .brand{display:flex;gap:12px;align-items:center;margin-bottom:18px;}
        .brand .logo{width:44px;height:44px;border-radius:10px;background:var(--accent);display:flex;align-items:center;justify-content:center;color:white;font-weight:700;font-size:20px;}
        .brand h1{font-size:16px;margin:0;}
        .nav{margin-top:8px;display:flex;flex-direction:column;gap:6px;}
        .nav button{background:transparent;border:0;padding:10px 12px;border-radius:10px;display:flex;align-items:center;gap:10px;color:var(--text);cursor:pointer;font-size:15px;}
        .nav button .ico{width:30px;text-align:center;font-size:18px;}
        .nav button:hover{background:rgba(99,102,241,0.06);}
        .nav button.active{background:rgba(37,99,235,0.12);color:var(--accent);}

        .sidebar-title{font-size:13px;color:var(--muted);opacity:0.7;margin-top:14px;margin-bottom:8px;font-weight:600;}
        .sidebar-shortcuts{display:flex;flex-direction:column;gap:8px;align-items:center;}
        .sidebar-shortcuts .nav-item.secondary{background:transparent;color:var(--accent);border:1px solid rgba(37,99,235,0.12);padding:10px 12px;border-radius:10px;cursor:pointer;text-align:center;width:100%;}
        .sidebar-shortcuts .nav-item.secondary:hover{background:rgba(37,99,235,0.12);}
        .sidebar-shortcuts .footer{font-size:13px;color:var(--muted);text-align:center;}

        .fixed{position:fixed;top:16px;right:16px;padding:10px 16px;border:none;border-radius:12px;background:var(--accent);color:white;cursor:pointer;font-weight:600;z-index:100;}

        .main{display:flex;flex-direction:column;gap:18px;}
        .content-header{display:flex;align-items:center;justify-content:space-between;gap:12px;}
        .content-header .left{display:flex;gap:16px;align-items:center}
        .content-header h2{margin:0;font-size:20px}
        .content-header p{margin:0;color:var(--muted)}
        .content-header .hamburger{display:none;background:transparent;border:0;font-size:20px;cursor:pointer}

        .panel{background:var(--card);border-radius:12px;padding:18px;box-shadow:var(--shadow);}
        .btn{background:var(--accent);color:white;padding:8px 12px;border-radius:10px;border:0;cursor:pointer;}
        .btn.secondary{background:transparent;color:var(--accent);border:1px solid rgba(37,99,235,0.12)}

        table{width:100%;border-collapse:collapse;font-size:14px}
        thead th{font-weight:600;text-align:left;padding:10px 12px;color:var(--muted);border-bottom:1px solid rgba(0,0,0,0.06)}
        tbody td{padding:12px;color:var(--text);border-bottom:1px solid rgba(0,0,0,0.04)}
        .badge{display:inline-block;padding:6px 8px;border-radius:999px;font-size:12px}
        .badge.open{background:rgba(34,197,94,0.12);color:var(--success)}
        .badge.pending{background:rgba(250,204,21,0.12);color:#b45309}
        .badge.closed{background:rgba(239,68,68,0.08);color:var(--danger)}
        .footer{font-size:13px;color:var(--muted);margin-top:8px}
        .muted{color:var(--muted);font-size:13px}
    </style>
</head>
<body>

    <button class="fixed" onclick="window.location.href='@Url.Action("Logout", "Dashboard")'">🚫 Desconectar</button>

    <div class="app" id="app" data-theme="">
        <aside class="sidebar panel" id="sidebar">
            <div class="brand">
                <div class="logo">👤</div>
                <div>
                    <h1>SuporteTI IA</h1>
                    <div class="muted">Painel do Usuário</div>
                </div>
            </div>

            <nav class="nav">
                <button class="nav-item active" data-view="recents"><span class="ico">📋</span> Lista de Chamados</button>
                <button class="nav-item" data-view="abrir"><span class="ico">✚</span> Abrir Chamado</button>
                <button class="nav-item" data-view="meus"><span class="ico">🗂️</span> Meus Chamados</button>
            </nav>

            <div class="sidebar-title">Atalhos</div>
            <div class="sidebar-shortcuts">
                <button class="nav-item secondary" id="logoutBtn">Sair</button>
                <div class="footer">Universidade • Projeto de Sistemas • LGPD aplicada</div>
            </div>
        </aside>

        <main class="main">
            <div class="content-header">
                <div class="left">
                    <button class="hamburger" id="toggleSidebar">☰</button>
                    <div>
                        <h2>Bem-vindo, @nome</h2>
                        <p class="muted">Painel de suporte e abertura de chamados</p>
                    </div>
                </div>
            </div>

            <section id="view-recents" class="panel">
                <h3>Chamados Recentes</h3>
                <p class="muted">Últimos chamados abertos no sistema.</p>

                <div style="margin-top:12px">
                    <table>
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>Assunto</th>
                                <th>Chamado aberto em:</th>
                                <th>Setor</th>
                                <th>Prioridade</th>
                                <th>Colaborador</th>
                                <th>Atribuído</th>
                                <th>Status</th>
                                <th>Ações</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr><td>1</td><td>Sistema travando ao abrir Excel</td><td>14/10/2025 08:30</td><td>TI / Software</td><td><span class="badge pending">Urgente</span></td><td>Arthur</td><td>—</td><td><span class="badge open">Aberto</span></td><td><button class="btn">Visualizar</button></td></tr>
                            <tr><td>2</td><td>Erro no sistema financeiro</td><td>13/10/2025 14:45</td><td>Financeiro / Aplicação</td><td><span class="badge pending">Alta</span></td><td>Marina</td><td>Fulano</td><td><span class="badge open">Aberto</span></td><td><button class="btn">Visualizar</button></td></tr>
                        </tbody>
                    </table>
                </div>
            </section>
        </main>
    </div>

    <script>
        const navButtons=document.querySelectorAll('.nav-item');
        const views={recents:document.getElementById('view-recents'),abrir:document.getElementById('view-abrir'),meus:document.getElementById('view-meus')};
        navButtons.forEach(btn=>{
          btn.addEventListener('click',()=>{
            navButtons.forEach(b=>b.classList.remove('active'));
            btn.classList.add('active');
            const view=btn.dataset.view;
            Object.keys(views).forEach(k=>{if(views[k])views[k].style.display=(k===view)?'':'none';});
          });
        });
    </script>
</body>
</html>
